# CProGUI

## Описание
CryptoPRO инсталятор and GUI менеджер для UNIX-систем.
Данная программа предназначена для установки, обновления и удаления программы [CryptoPRO](http://www.cryptopro.ru/) с использованием скриптов командной оболочки [Dialog](http://invisible-island.net/dialog/).
Пока не имеет никакой версии, а является некой "преальфой". Разрабатывалась не с целью коммерческого распространнения, а для облегчения управления системой CryptoPRO для конечного пользователя *nix-систем.

## Почему именно Dialog?
Во-первых, потому что это "наколенная" разработка и мне не хотелось заморачиваться и вдаваться в более серьезну разработку. Решил обойтись командной строкой и системой, которая доступна практически для любой *nix-системы.
Во-вторых, просто не смог найти нормальную документацию CryptoPRO для прямого взаимодействия с библиотеками.

## Использование

### Инсталятор `install.sh`
Программа для полной или частичной установки и удаления CryptoPRO.
Для запуска программы, требуется для файла `install.sh` из директории проекта установить аттрибут на исполнение:

```bash
$ chmod +x install.sh
```

Запуск программы производится командой из директории проекта:

```bash
$ ./install.sh
```

Меню программы имеет следующие пункты:
  - `Чистая установка`: полное удаление CryptoPRO из системы, включая драйверы ключевых носителей, browser plugin, настройки программы и хранилища ключей и последующая установка CryptoPRO, включая поддержку ключевого носителя ESMART 64k и browser plugin.
    *ВНИМАНИЕ*: особое внимание хочу обратить, что данный пункт установки ПОЛНОСТЬЮ УДАЛИТ ваше хранилище и все установленные ключи, включая корневые сертификаты. 
  - `Проверка установленных программ`: проверяет установленную CryptoPRO: наличие и чтение ключевых носителей.
  - `Установка/переустановка CryptoPro`: установка CryptoPRO, включая browser plugin. Если до этого была установлена другая версия CryptoPRO, она будет удалена.
  - `Удаление CryptoPro`: удаление CryptoPRO, включая browser plugin.
  - `Установка/переустановка Browser Plugins`: установка browser plugin. Если до этого была установлена другая версия, она будет удалена.
  - `Удаление Browser Plugins`: удаление browser plugin.
  - `Установка/переустановка драйвера ESMART 64k`: установка драйвера поддержки ключевого носителя ESMART 64k. Если до этого была установлена другая версия, она будет удалена.
  - `Удаление драйвера ESMART 64k`: удаление драйвера поддержки ключевого носителя ESMART 64k.
  - `Полное удаление`: полное удаление CryptoPRO из системы, включая драйверы ключевых носителей, browser plugin, настройки программы и хранилища ключей.
    *ВНИМАНИЕ*: особое внимание хочу обратить, что данный пункт ПОЛНОСТЬЮ УДАЛИТ ваше хранилище и все установленные ключи, включая корневые сертификаты. 

### GUI менеджер `cprogui.sh`
Программа для управления ключами сертификатов на ключевых носителях и локальном хранилище.
Для запуска программы, требуется для файла `cprogui.sh` из директории проекта установить аттрибут на исполнение:

```bash
$ chmod +x cprogui.sh
```

Запуск программы производится командой из директории проекта:

```bash
$ ./cprogui.sh
```

Меню программы имеет следующие пункты:
  - `Список подключенных ключевых носителей`: показывает список подключенных ключевых носителей.
  - `Список доступных ключей сертификатов`: выводит список всех ключей, которые доступны системе, включая локальные хранилища и хранилища ключевых носителей.
  - `Установка корневого сертификата`: позволяет выбрать файл корневого сертификата с последующей установкой.
  - `Копирование ключей между хранилищами`: позволяет копировать ключи между хранилищами: KEY->KEY, KEY->HDIMAGE, HDIMAGE->KEY. (KEY - ключевой носитель, HDIMAGE - локальное хранилище).
  - `Установка ключа сертификата`: установка ключа сертификата с ключевого или локального носителя.
  - `Проверка работы контейнера по закрытому ключу`: проверка установленного сертификата.
  - `Удаление ключа сертификата`: удаление установленного сертификата (`TODO`)

## TODO
  - правка данного файла.

### Инсталятор
  - интеграция установки для RedHat-linux систем
  - интеграция установки для *BSD систем
  - поддержка [plugin'а](http://www.cryptopro.ru/products/cades/downloads) для [Google Chrome](https://www.google.com/chrome/browser/desktop/index.html)
  - установка различных ключевых носителей

### GUI менеджер
  - удаление ключей из хранилища (понятия не имею, как это реализовать???)
