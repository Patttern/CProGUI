# CProGUI

## Описание
CryptoPRO инсталятор and GUI менеджер для UNIX-систем.<br>
Данная программа предназначена для установки, обновления и удаления программы [CryptoPRO](http://www.cryptopro.ru/) с использованием скриптов командной оболочки [Dialog](http://invisible-island.net/dialog/).<br>
Пока не имеет никакой версии, а является некой "преальфой". Разрабатывалась не с целью коммерческого распространнения, а для облегчения управления системой CryptoPRO для конечного пользователя *nix-систем.

## На каких системах работает данная программа?
Тестирование производилось только на [Ubuntu](http://www.ubuntu.com/) 32 и 64 версиях. Учитывая, что Ubuntu является debain-подобной системой, соответственно на [Debian](https://www.debian.org/) программа так же должна заработать, а так же на других debian-подобных системах. Но это не тестировалось.

## Почему именно Dialog?
Во-первых, потому что это "наколенная" разработка и мне не хотелось заморачиваться и вдаваться в более серьезну разработку. Решил обойтись командной строкой и системой, которая доступна практически для любой *nix-системы.<br>
Во-вторых, просто не смог найти нормальную документацию CryptoPRO для прямого взаимодействия с библиотеками.

## Использование

### Инсталятор `install.sh`
Программа для полной или частичной установки и удаления CryptoPRO.

Для запуска программы, требуется для файла `install.sh` из директории проекта установить аттрибут на исполнение:

```bash
$ chmod +x install.sh
```

Запуск программы производится командой из директории проекта:

```bash
$ ./install.sh
```

Меню программы имеет следующие пункты:

  - `Чистая установка`: полное удаление CryptoPRO из системы, включая драйверы ключевых носителей, browser plugin, настройки программы, локального хранилища контейнеров и последующая установка CryptoPRO, включая поддержку ключевого носителя ESMART 64k и browser plugin.<br>
    *ВНИМАНИЕ*: особое внимание хочу обратить, что данный пункт установки `ПОЛНОСТЬЮ УДАЛИТ` ваше локальное хранилище, контейнеры и все установленные сертификаты контейнеров, включая корневые сертификаты.<br>
  - `Проверка установленных программ`: проверяет установленную CryptoPRO: наличие и чтение ключевых носителей.<br>
  - `Установка/переустановка CryptoPro`: установка CryptoPRO, включая browser plugin. Если до этого была установлена другая версия CryptoPRO, она будет удалена.<br>
  - `Удаление CryptoPro`: удаление CryptoPRO, включая browser plugin.<br>
  - `Установка/переустановка Browser Plugins`: установка browser plugin. Если до этого была установлена другая версия, она будет удалена.<br>
  - `Удаление Browser Plugins`: удаление browser plugin.<br>
  - `Установка/переустановка драйвера ESMART 64k`: установка драйвера поддержки ключевого носителя ESMART 64k. Если до этого была установлена другая версия, она будет удалена.<br>
  - `Удаление драйвера ESMART 64k`: удаление драйвера поддержки ключевого носителя ESMART 64k.<br>
  - `Полное удаление`: полное удаление CryptoPRO из системы, включая драйверы ключевых носителей, browser plugin, настройки программы и локального хранилища контейнеров.<br>
    *ВНИМАНИЕ*: особое внимание хочу обратить, что данный пункт `ПОЛНОСТЬЮ УДАЛИТ` ваше локальное хранилище, контейнеры и все установленные сертификаты контейнеров, включая корневые сертификаты.

### GUI менеджер `cprogui.sh`
Программа для управления контейнерами сертификатов на ключевых носителях и в локальном хранилище.

Для запуска программы, требуется для файла `cprogui.sh` из директории проекта установить аттрибут на исполнение:

```bash
$ chmod +x cprogui.sh
```

Запуск программы производится командой из директории проекта:

```bash
$ ./cprogui.sh
```

Меню программы имеет следующие пункты:

  - `Список подключенных ключевых носителей`: показывает список подключенных ключевых носителей.<br>
  - `Список доступных контейнеров`: выводит список всех контейнеров, которые доступны системе, включая ключевые носители и локальные хранилища.<br>
  - `Установка корневого сертификата`: позволяет выбрать файл корневого сертификата с последующей установкой.<br>
  - `Копирование контейнеров между хранилищами`: позволяет копировать контейнеры между хранилищами: KEY->KEY, KEY->HDIMAGE, HDIMAGE->KEY. (KEY - ключевой носитель, HDIMAGE - локальное хранилище).<br>
  - `Установка сертификата контейнера`: установка сертификата контейнера с ключевого носителя или локального хранилища.<br>
  - `Проверка работы контейнера по закрытому ключу`: позволяет проверить работу контейнера по закрытому ключу.<br>
  - `Удаление сертификата`: удаление установленного сертификата (`TODO`).

## TODO
  - правка данного файла.

### Инсталятор
  - интеграция установки для RedHat-linux систем<br>
  - интеграция установки для *BSD систем<br>
  - поддержка [plugin'а](http://www.cryptopro.ru/products/cades/downloads) для [Google Chrome](https://www.google.com/chrome/browser/desktop/index.html)<br>
  - поддержка различных ключевых носителей

### GUI менеджер
  - удаление сертификата (понятия не имею, как это реализовать???)
